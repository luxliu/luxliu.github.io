<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Lux&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="Action as a normal"/>
<meta name="keywords" content="Action as a normal"/>
<link rel="shortcut icon" href="https://luxliu.github.io/favicon.ico">
<link rel="stylesheet" href="https://luxliu.github.io/styles/main.css">


<!-- Comment -->


<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">



</head>
<body class="post-template">
<div id="page" class="site">

    <header class="site-header">
    <h1 class="site-title"><a href="https://luxliu.github.io">Lux&#39;s Blog</a></h1>
    <a class="sidebar-toggle"><span class="screen-reader-text">Menu</span><span class="icon" aria-hidden="true"></span></a>
</header>

<aside class="sidebar">
    <div class="sidebar-scrollable">
        <div class="inner">
            <div class="widget-area">
                <!-- 菜单 -->
                <nav class="site-navigation">
                    <h2>Lux&#39;s Blog</h2>
                    <ul class="menu">
                        
                            <li class="menu-item home current-menu-item">
                                <a href="/"
                                
                                >Home</a>
                            </li>
                        
                            <li class="menu-item home current-menu-item">
                                <a href="/archives"
                                
                                >Archives</a>
                            </li>
                        
                            <li class="menu-item home current-menu-item">
                                <a href="/tags"
                                
                                >Tags</a>
                            </li>
                        
                            <li class="menu-item home current-menu-item">
                                <a href="/post/about"
                                
                                >About</a>
                            </li>
                        
                    </ul>
                </nav>

                <section class="widget widget-about">
                    <h2 class="widget-title">关于</h2>
                    <p>Action as a normal</p>
                </section>

                <section class="widget widget-tags">
                    <h2 class="widget-title">标签</h2>
                    <div class="tagcloud">
                        
                            <a href="https://luxliu.github.io/tag/2vNKS4OOD/" class="button">
                                JavaScript
                                <span aria-hidden="true"><span class="line left"></span><span class="line top"></span><span class="line right"></span><span class="line bottom"></span></span>
                            </a>
                        
                            <a href="https://luxliu.github.io/tag/I2nhd0xXh/" class="button">
                                Basic
                                <span aria-hidden="true"><span class="line left"></span><span class="line top"></span><span class="line right"></span><span class="line bottom"></span></span>
                            </a>
                        
                            <a href="https://luxliu.github.io/tag/5R0JrNhKn/" class="button">
                                Webpack
                                <span aria-hidden="true"><span class="line left"></span><span class="line top"></span><span class="line right"></span><span class="line bottom"></span></span>
                            </a>
                        
                            <a href="https://luxliu.github.io/tag/_rN6fbSe1/" class="button">
                                CI/CD
                                <span aria-hidden="true"><span class="line left"></span><span class="line top"></span><span class="line right"></span><span class="line bottom"></span></span>
                            </a>
                        
                            <a href="https://luxliu.github.io/tag/_C5EmWh7M/" class="button">
                                Career
                                <span aria-hidden="true"><span class="line left"></span><span class="line top"></span><span class="line right"></span><span class="line bottom"></span></span>
                            </a>
                        
                    </div>
                </section>

            </div>
            <a class="sidebar-toggle"><span class="screen-reader-text">Close</span><span class="icon" aria-hidden="true"></span></a>
        </div>
    </div>
</aside>


    <main class="site-main">
        <div class="site-content">
            <article class="post tag-getting-started">
                <header class="cover post-header">
                    <div class="cover-bg" >

                        
                            <img srcset="https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg 300w, https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg 600w, https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg 800w, https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg 1600w, https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg 2000w"
                                 sizes="100vw" src="https://luxliu.github.io/post-images/go-through-the-basic-javascript-skills-before-your-interview-variable-types-and-computing.jpg" alt="Go through the basic JavaScript skills before your  interview  --- Variable types and computing"/>
                        

                    </div>
                    <div class="cover-content">
                        <div class="inner">
                            <div class="post-tags">
                                
                                    
                                        <a href="https://luxliu.github.io/tag/2vNKS4OOD/">JavaScript&nbsp;&nbsp;</a>
                                    
                                        <a href="https://luxliu.github.io/tag/I2nhd0xXh/">Basic&nbsp;&nbsp;</a>
                                    
                                
                            </div>
                            <h1 class="post-title">Go through the basic JavaScript skills before your  interview  --- Variable types and computing</h1>
                            <div class="post-meta">
                                <span class="post-meta-wrap">
                                    <img class="author-avatar"
                                         srcset="https://luxliu.github.io/media/images/avatar.png, https://luxliu.github.io/media/images/avatar.png 2x"
                                         src="https://luxliu.github.io/media/images/avatar.png" alt=""/>
                                    <span class="post-author">539字</span>
                                    <time class="published" datetime="2020-07-02">2020-07-02</time>
                                </span>
                                <div>4 min read</div>
                            </div>
                            <a href="#post-content" class="arrow-down" data-scroll><span class="screen-reader-text">Scroll Down</span></a>
                        </div>
                    </div>
                </header>
                <div class="inner">

                    <div id="post-content" class="post-content">
                        <h2 id="questions">questions:</h2>
<p>a. What kind of variable types can be checked by <code>typeof</code>?</p>
<p>b. When should use <code>==</code> and when should use <code>===</code>?</p>
<p>c. What's the difference between value type and reference type?</p>
<p>d. Implement the deep clone manually.</p>
<h2 id="skills">skills:</h2>
<h3 id="1-assignment-of-value-type-and-reference-type">1. Assignment of value type and reference type:</h3>
<pre><code class="language-js">let a = 100;
let b = a;
a = 200;
console.log(b) //100
</code></pre>
<pre><code class="language-js">let a = {age:20}
let b =a;
b.age = 21;
console.log(a.age)
</code></pre>
<p><strong>value-type variables won't effect each other after assignment, but reference-type ones will.</strong></p>
<p>The changes for value-type  <code>a</code> and <code>b</code> in <strong>memory stack</strong>:</p>
<p>step 1<code>let a = 100</code>:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>100</td>
</tr>
</tbody>
</table>
<p>step 2 <code>let b = 100</code>:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>100</td>
</tr>
<tr>
<td>b</td>
<td>100</td>
</tr>
</tbody>
</table>
<p>step 3 <code>a=200</code>:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>200</td>
</tr>
<tr>
<td>b</td>
<td>100</td>
</tr>
</tbody>
</table>
<p>The changes for reference-type  <code>a</code> and <code>b</code> in <strong>memory stack and heap</strong>:</p>
<p>step 1 <code>let a = { age: 20}</code>:</p>
<p>In stack:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>address 1</td>
</tr>
</tbody>
</table>
<p>In heap:</p>
<table>
<thead>
<tr>
<th>Address 1</th>
<th>{age: 20}</th>
</tr>
</thead>
<tbody>
<tr>
<td>Key</td>
<td>Value</td>
</tr>
</tbody>
</table>
<p>step 2 <code>let b = a</code>:</p>
<p>In stack:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>address 1</td>
</tr>
<tr>
<td>b</td>
<td>address 1</td>
</tr>
</tbody>
</table>
<p>In heap:</p>
<table>
<thead>
<tr>
<th>Address 1</th>
<th>{age: 20}</th>
</tr>
</thead>
<tbody>
<tr>
<td>Key</td>
<td>Value</td>
</tr>
</tbody>
</table>
<p>step 3: <code>b.age = 21</code>:</p>
<p>In stack:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>address 1</td>
</tr>
<tr>
<td>b</td>
<td>address 1</td>
</tr>
</tbody>
</table>
<p>In heap:</p>
<table>
<thead>
<tr>
<th>Address 1</th>
<th>{age: 21}</th>
</tr>
</thead>
<tbody>
<tr>
<td>Key</td>
<td>Value</td>
</tr>
</tbody>
</table>
<p>The computer will put value-type variables in the stack directly but use memory address to point to the value of reference-type variables, as the performance consideration and copy efficiency.</p>
<h3 id="2-whats-value-types-and-reference-types">2. What's value types and reference types</h3>
<pre><code class="language-js">let a // undefined
const s = 'abs' //string
const n = 100 // number
const b = true // boolean
const sb = Symbol('s') // symbol
</code></pre>
<pre><code class="language-js">const obj = { x: 100 }
const arr = ['a', 'b', 'c']

const n = null // special reference type, pointer points to empty address

// special reference type, typeof fn === 'function'
function fn() {}
</code></pre>
<h3 id="3-typeof-operator">3. typeof operator</h3>
<pre><code class="language-js">// 1. typeof can check all value types
let a;   				typeof a // 'uundefined'
const str = 'abc'  		typeof str // 'string'
const n = 100;     		typeof n // 'number'
const b = true;			typeof b // 'boolean'
const sb = Symbol('s')	typeof sb // 'symbol'
</code></pre>
<pre><code class="language-js">// 2. typeof can check function
typeof console.log // 'function'
typeof function () {} // 'function'
</code></pre>
<pre><code class="language-js">// 3. tyypeof can check reference type but can't get details
typeof null // 'object'
typeof ['a', 'b'] // 'object'
typeof { x: 100 } // 'object'
</code></pre>
<h3 id="4-deep-clone">4. Deep clone</h3>
<pre><code class="language-js">const obj = {
    age: 20,
    name: 'xxx',
    address: {
        city: 'Auckland'
    },
    arr: ['a', 'b', 'c']
}

function deepClone(obj = {}){
    if(typeof obj !== 'object' || obj == null) {
        // obj is null or not an object/array, return directly
        return obj
    }
    
    // init the returned result
    let result
    if(obj instanceof Array) {
        result = []
    }else {
        result = {}
    }
    
    for(let key in obj) {
        // insure key is not the prototype property
        if(obj.hasOwnProperty(key)) {
            // Recursive
            result[key] = deepClone(obj[key])
        }
    }
    
}
</code></pre>
<blockquote>
<p>Note: don't use deep clone randomly, as for huge objects, the performance is poor. E.g. in React</p>
</blockquote>
<h3 id="5-variables-computing-type-conversion">5. Variables computing &amp; type conversion</h3>
<pre><code class="language-js">// 1. string concatenation
const a = 100 + 10 // 100
const b = 100 + '10' // '10010' you can use 100 + parseInt('10', 10)
const c = true + '10' // 'true10'
</code></pre>
<pre><code class="language-js">// 2. == operator, this will cause falsy and truthy conversion
100 == '100' // true
0 == '' // true
0 == false // true
false == '' // true
null == undefined // true
</code></pre>
<pre><code class="language-js">// 3. Please use === except (== null):

const obj = { x: 100 }
if (obj.a == null) {}
// above code can be written like this:
// if (obj.a === null || obj.a === undefined) {}
</code></pre>

                    </div>

                </div>
            </article>

            <section class="comments-area">
    <div class="inner">
        <h2 class="screen-reader-text">评论</h2>
        
    </div>
</section>


            
                <nav class="post-navigation">
                    <h2 class="screen-reader-text">Post navigation</h2>
                    <div class="nav-links">
                        <a href="https://luxliu.github.io/post/the-under-hood-of-react-event-synthetic-event/" class="nav-previous">
                            <div class="nav-bg" >
                                
                                    <img srcset="https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg 300w, https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg 600w, https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg 800w, https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg 1600w, https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg 2000w" sizes="(max-width: 800px) 100vw, 50vw" src="https://luxliu.github.io/post-images/the-under-hood-of-react-event-synthetic-event.jpg" alt="图裂了"/>
                                
                            </div>
                            <div class="nav-inside">
                                <span class="nav-before">下一篇</span>
                                <span class="nav-title">The under hood of React event —— Synthetic Event</span>
                                <span class="nav-date">2020-06-18</span>
                            </div>
                        </a>
                    </div>
                </nav>
            

        </div>
    </main>

    <footer class="site-footer">
    <div class="inner">
        <!-- 社交 -->
        <div class="offsite-links">
            
                
            
                
            
                
            
                
            
                
            
        </div>

        <div class="site-info">
            THEME BY <a href="https://github.com/GalaxySuze/gridea-theme-subtle-galaxy">Subtle Galaxy</a>, REFERENCE FROM <a href="https://subtle.justgoodthemes.com/">Subtle</a><br/>
            
        </div>
        <a href="#page" class="arrow-up" data-scroll><span class="screen-reader-text">Back to the top</span></a>
    </div>
</footer>


</div>

<script src="https://luxliu.github.io/media/scripts/_core/plugins.js"></script>
<script src="https://luxliu.github.io/media/scripts/_core/custom.js"></script>

<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
<!-- Md5 Min JS -->
<script src="https://luxliu.github.io/media/scripts/_vendors/md5.min.js"></script>

<script type="application/javascript">
    // 代码高亮
    hljs.initHighlightingOnLoad();

</script>





</body>
</html>
